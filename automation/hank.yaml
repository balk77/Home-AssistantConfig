# - id: hank_wk1
#   alias: Hank wk1
#   trigger:
#     platform: event
#     event_type: zwave.scene_activated
#     event_data:
#       entity_id: zwave.hank_knop_wk
#       scene_id: 1
#   action:
#     service: script.turn_on
#     entity_id: script.woonkamer_low
# - id: hank_wk2
#   alias: Hank wk2
#   trigger:
#     platform: event
#     event_type: zwave.scene_activated
#     event_data:
#       entity_id: zwave.hank_knop_wk
#       scene_id: 2
#   action:
#     service: script.turn_on
#     entity_id: script.woonkamer_medium

# - id: hank_wk3_1
#   alias: Hank wk3_1
#   trigger:
#     platform: event
#     event_type: zwave.scene_activated
#     event_data:
#       entity_id: zwave.hank_knop_wk
#       scene_id: 3
#   condition:
#     condition: state
#     entity_id: input_boolean.vakantie
#     state: 'on'
#   action:
#   - service: input_boolean.turn_off
#     entity_id: input_boolean.vakantie
# - id: hank_wk4
#   alias: Hank wk4
#   trigger:
#     platform: event
#     event_type: zwave.scene_activated
#     event_data:
#       entity_id: zwave.hank_knop_wk
#       scene_id: 4
#   action:
#     service: script.turn_on
#     entity_id: script.woonkamer_full

- id: hank_wk1
  alias: Hank wk1
  trigger:
    platform: event
    event_type: zwave.scene_activated
    event_data:
      entity_id: zwave.hank_knop_wk
      scene_id: 1
  action:
    service: light.turn_on
    entity_id: light.wk_eettafel_plafond_level
    data_template:
        brightness: >
            {% if is_state('light.wk_eettafel_plafond_level', 'off') %}
            50
            {% else %} 
            {% set suggested = states.light.wk_eettafel_plafond_level.attributes.brightness|int + 50 %}
            {% if suggested < 254 %}
            {{ suggested }}
            {% else %}
            0
            {% endif %}
            {% endif %}