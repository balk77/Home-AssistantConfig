- id: wasmachine_01
  alias: Washer Start
  trigger:
    platform: state
    entity_id: binary_sensor.washer_pwrup
    from: 'off'
    to: 'on'
    for:
      minutes: 3
  action:
  - service: input_boolean.turn_on
    entity_id: input_boolean.washer_switch
- id: wasmachine_02
  alias: Wasmachine Klaar
  trigger:
    platform: state
    entity_id: binary_sensor.washer_pwrup
    from: 'on'
    to: 'off'
    for:
      minutes: 3
  condition:
    condition: state
    entity_id: input_boolean.washer_switch
    state: 'on'
  action:
  - service: notify.pushbullet
    data:
      target: device/Nexus5X
      message: Wasmachine is klaar!
  - service: notify.telegram
    data:
      message: Wasmachine is klaar!
  - service: input_boolean.turn_off
    entity_id: input_boolean.washer_switch
- id: droger_01
  alias: Dryer Start
  trigger:
    platform: state
    entity_id: binary_sensor.dryer_pwrup
    from: 'off'
    to: 'on'
    for:
      minutes: 3
  action:
    service: input_boolean.turn_on
    entity_id: input_boolean.dryer_switch
- id: droger_02
  alias: Droger Klaar
  trigger:
    platform: state
    entity_id: binary_sensor.dryer_pwrup
    from: 'on'
    to: 'off'
    for:
      minutes: 3
  condition:
    condition: state
    entity_id: input_boolean.dryer_switch
    state: 'on'
  action:
  - service: notify.pushbullet
    data:
      target: device/Nexus5X
      message: Droger is klaar!
  - service: notify.telegram
    data:
      message: Droger is klaar!
  - service: input_boolean.turn_off
    entity_id: input_boolean.dryer_switch
- id: wasmachine_03
  alias: wasmachine alive on
  trigger:
    platform: mqtt
    topic: zolder/wasmachine/power
  action:
  - service: input_boolean.turn_on
    entity_id: input_boolean.wasmachine_alive
- id: wasmachine_04
  alias: wasmachine alive 'off'
  trigger:
    platform: time_pattern
    minutes: 5
  action:
  - service: input_boolean.turn_off
    entity_id: input_boolean.wasmachine_alive
- id: wasmachine_05
  alias: notify if wasmachine meting is uit
  trigger:
    platform: time
    at: "20:15:00"
  condition:
    condition: state
    entity_id: input_boolean.wasmachine_alive
    state: 'off'
  action:
  - service: notify.telegram
    data:
      message: Wasmachine meting staat uit!
- id: droger_03
  alias: droger alive on
  trigger:
    platform: mqtt
    topic: zolder/droger/power
  action:
  - service: input_boolean.turn_on
    entity_id: input_boolean.droger_alive
- id: droger_04
  alias: droger alive 'off'
  trigger:
    platform: time_pattern
    minutes: 5
  action:
  - service: input_boolean.turn_off
    entity_id: input_boolean.droger_alive
- id: droger_05
  alias: notify if droger meting is uit
  trigger:
    platform: time
    at: "20:15:00"
  condition:
    condition: state
    entity_id: input_boolean.droger_alive
    state: 'off'
  action:
  - service: notify.telegram
    data:
      message: Droger meting staat uit!

